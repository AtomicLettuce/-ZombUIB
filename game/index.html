<!DOCTYPE html>
<html>

<head>
    <script src="lib/aframe.min.js"></script>
    <script src="lib/aframe-environment-component.min.js"></script>
    <script src="lib/aframe-extras.min.js"></script>
    <script src="lib/keyboard.min.js"></script>
    <script src="lib/maze.js"></script>
    <script src="lib/customComponents.js"></script>
    <script src="lib/game-constants.js"></script>

    <link rel="stylesheet" href="stylesheet.css">
    <link rel="icon" type="image/png" href="assets/favicon.png">
</head>

<body>
    <a-scene id="myScene" zombie-game keyboard-shortcuts="enterVR: false">
        <!-- ASSET IMPORTATION -->
        <a-assets>
            <a-asset-item id="zombie_model" response-tpye="arraybuffer"
                src="/assets/Zombies/ZombieGirl/ZombieGirl.glb"></a-asset-item>
            <!-- <a-asset-item id="zombie_model_ZombieGirl" response-tpye="arraybuffer" src="/Zombies/ZombieGirl/ZombieGirl.glb"></a-asset-item> -->
            <a-asset-item id="raygun" response-tpye="arraybuffer"
                src="/assets/Weapons/Raygun/raygun.glb"></a-asset-item>
            <a-asset-item id="cat" response-tpye="arraybuffer" src="/assets/Weapons/Cat/cat.glb"></a-asset-item>
            <a-asset-item id="ppsh" response-tpye="arraybuffer" src="/assets/Weapons/Ppsh/ppsh.glb"></a-asset-item>
            <a-asset-item id="1911" response-tpye="arraybuffer" src="/assets/Weapons/1911/1911.glb"></a-asset-item>
            <img id="wall_texture" src="assets/misc/wall_texture03.jpeg">
        </a-assets>

        <!-- CAMERA RIG -->
        <a-entity id="cameraRig" player movement-controls="controls: keyboard, gamepad; constrainToNavMesh: true"
            position="-50 0 -33"><!-- -50 0 -33-->
            <!-- HEAD -->
            <a-entity fixcamera look-controls="pointerLockEnabled: true" camera cursor="rayOrigin: mouse;" id="myCamera"
                position="0 1.75 0">
                <!-- CURSOR CROSSHAIR -->
                <a-cursor id="cursorSights" overlay color="white"></a-cursor>
                <!-- Gun holding hand -->
                <a-entity id="rightHand" position="0.15 -0.15 -0.2" rotation="90 0 0"></a-entity>
            </a-entity>
        </a-entity>

        <!-- ENVIRONMENT -->
        <a-entity
            environment="preset: osiris; playArea: 1000; dressing: none; lightning: distant; groundTexture: walkernoise; groundColor: #273a49; groundColor2: #2b464f; grid: none; gridColor: #239893;">
        </a-entity>

        <!-- MISCELANEOUS OBJECTS -->
        <a-entity id='giant' position="0 5 -7">
            <a-obj-model src="assets/misc/FinalBaseMesh.obj"></a-obj-model>
        </a-entity>


        <!-- GAME OVER LOBBY -->
        <a-entity id="gameOverLobby">
            <a-box position="-80 12.5 -45" width="10" depth="1" height="25" material="src: #wall_texture"></a-box>
            <a-box position="-80 12.5 -35" width="10" depth="1" height="25" material="src: #wall_texture"></a-box>
            <a-box position="-85 12.5 -40" rotation="0 90 0" width="10" depth="1" height="25"
                material="src: #wall_texture"></a-box>
            <a-box id="gameOverFloor" position="-75 12.5 -40" rotation="0 90 0" width="10" depth="1" height="25"
                material="src: #wall_texture"></a-box>

            <a-box id="abb" position="-80 0.4 -42" color="#ffffff" width="0.5" depth="0.5" height="0.8">
                <a-text value="Play Again?" color="#000" align="center" scale="0.4 0.4 0.4"
                    position="0 0.3 0.25"></a-text>
                <a-box onclick="myScene.components['zombie-game'].replay();" position="0 0.4 0" color="#C673FF" width="0.175" depth="0.175"
                    height="0.175"></a-box>
            </a-box>
            <a-text value="Game Over!" color="#ffffff" align="center" scale="5 5 5" position="-80 2 -43"
                side="double"></a-text>

            <a-plane visible="false" rotation="-90 0 0" position="-80 0 -40" width="8.5" height="8.5"></a-plane>
        </a-entity>


        <!-- GAME LOBBY -->
        <a-entity id="gameLobby">
            <!-- Lobby walls -->
            <a-box position="-50 12.5 -50" width="25" depth="1" height="25" material="src: #wall_texture"></a-box>
            <a-box position="-50 12.5 -25" width="25" depth="1" height="25" material="src: #wall_texture"></a-box>
            <a-box position="-37.5 12.5 -37.5" rotation="0 90 0" width="25" depth="1" height="25"
                material="src: #wall_texture"></a-box>
            <a-box position="-62.5 12.5 -37.5" rotation="0 90 0" width="25" depth="1" height="25"
                material="src: #wall_texture"></a-box>


            <!-- Leaderboards -->
            <a-plane id="Leaderboards" rotation="0 90 0" position="-61 3 -35" color="#fff" side="double" width="7"
                height="4.5">
                <!-- TITLE -->
                <a-plane position="0 1.95 0.01" color="#000" width="4" height="0.35">
                    <a-text font="dejavu" color="#fff" value="Leaderboards" position="-0.9 0 0.001"></a-text>
                </a-plane>
                <!-- Column names -->
                <a-plane position="0 1.25 0.01" color="#000" width="6" height="0.2">
                    <a-text font="dejavu" color="#fff" value="Player Name" position="-2.9 0 0.001"
                        scale="0.7 0.7 0.7"></a-text>
                    <a-text font="dejavu" color="#fff" value="Rounds" position="-1 0 0.001"
                        scale="0.7 0.7 0.7"></a-text>
                    <a-text font="dejavu" color="#fff" value="Kills" position="0.4 0 0.001"
                        scale="0.7 0.7 0.7"></a-text>
                    <a-text font="dejavu" color="#fff" value="Headshot Kills" position="1.5 0 0.001"
                        scale="0.7 0.7 0.7"></a-text>
                </a-plane>

                <!-- #1 -->
                <a-plane position="0 0.95 0.01" color="#000" width="6.5" height="0.2">
                    <a-plane width="0.2" height="0.2" color="#ffdf00" position="-3.15 0 0.01">
                        <a-text value="#1" position="-0.075 0 0.01" scale="0.5 0.5 0.5"></a-text>
                    </a-plane>
                    <a-text id="leaderboard1name" font="dejavu" color="#fff" position="-3 0 0.001"
                        scale="0.7 0.7 0.7"></a-text>
                    <a-text id="leaderboard1rounds" font="dejavu" color="#fff" position="-1 0 0.001"
                        scale="0.7 0.7 0.7"></a-text>
                    <a-text id="leaderboard1kills" font="dejavu" color="#fff" position="0.4 0 0.001"
                        scale="0.7 0.7 0.7"></a-text>
                    <a-text id="leaderboard1hskills" font="dejavu" color="#fff" position="1.5 0 0.001"
                        scale="0.7 0.7 0.7"></a-text>
                </a-plane>
                <!-- #2 -->
                <a-plane position="0 0.6 0.01" color="#000" width="6.5" height="0.2">
                    <a-plane width="0.2" height="0.2" color="#c0c0c0" position="-3.15 0 0.01">
                        <a-text value="#2" position="-0.075 0 0.01" scale="0.5 0.5 0.5"></a-text>
                    </a-plane>
                    <a-text id="leaderboard2name" font="dejavu" color="#fff" position="-3 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard2rounds" font="dejavu" color="#fff" position="-1 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard2kills" font="dejavu" color="#fff" position="0.4 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard2hskills" font="dejavu" color="#fff" position="1.5 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                </a-plane>
                <!-- #3 -->
                <a-plane position="0 0.2 0.01" color="#000" width="6.5" height="0.2">
                    <a-plane width="0.2" height="0.2" color="#cd7f32" position="-3.15 0 0.01">
                        <a-text value="#3" position="-0.075 0 0.01" scale="0.5 0.5 0.5"></a-text>
                    </a-plane>
                    <a-text id="leaderboard3name" font="dejavu" color="#fff" position="-3 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard3rounds" font="dejavu" color="#fff" position="-1 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard3kills" font="dejavu" color="#fff" position="0.4 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard3hskills" font="dejavu" color="#fff" position="1.5 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>

                </a-plane>
                <!-- #4 -->
                <a-plane position="0 -0.25 0.01" color="#000" width="6.5" height="0.2">
                    <a-plane width="0.2" height="0.2" color="#097287" position="-3.15 0 0.01">
                        <a-text value="#4" position="-0.075 0 0.01" scale="0.5 0.5 0.5"></a-text>
                    </a-plane>
                    <a-text id="leaderboard4name" font="dejavu" color="#fff" position="-3 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard4rounds" font="dejavu" color="#fff" position="-1 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard4kills" font="dejavu" color="#fff" position="0.4 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard4hskills" font="dejavu" color="#fff" position="1.5 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                </a-plane>
                <!-- #5 -->
                <a-plane position="0 -0.5 0.01" color="#000" width="6.5" height="0.2">
                    <a-plane width="0.2" height="0.2" color="#097287" position="-3.15 0 0.01">
                        <a-text value="#5" position="-0.075 0 0.01" scale="0.5 0.5 0.5"></a-text>
                    </a-plane>
                    <a-text id="leaderboard5name" font="dejavu" color="#fff" position="-3 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard5rounds" font="dejavu" color="#fff" position="-1 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard5kills" font="dejavu" color="#fff" position="0.4 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard5hskills" font="dejavu" color="#fff" position="1.5 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                </a-plane>
                <!-- #6 -->
                <a-plane position="0 -0.75 0.01" color="#000" width="6.5" height="0.2">
                    <a-plane width="0.2" height="0.2" color="#097287" position="-3.15 0 0.01">
                        <a-text value="#6" position="-0.075 0 0.01" scale="0.5 0.5 0.5"></a-text>
                    </a-plane>
                    <a-text id="leaderboard6name" font="dejavu" color="#fff" position="-3 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard6rounds" font="dejavu" color="#fff" position="-1 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard6kills" font="dejavu" color="#fff" position="0.4 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard6hskills" font="dejavu" color="#fff" position="1.5 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                </a-plane>
                <!-- #7 -->
                <a-plane position="0 -1 0.01" color="#000" width="6.5" height="0.2">
                    <a-plane width="0.2" height="0.2" color="#097287" position="-3.15 0 0.01">
                        <a-text value="#7" position="-0.075 0 0.01" scale="0.5 0.5 0.5"></a-text>
                    </a-plane>
                    <a-text id="leaderboard7name" font="dejavu" color="#fff" position="-3 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard7rounds" font="dejavu" color="#fff" position="-1 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard7kills" font="dejavu" color="#fff" position="0.4 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard7hskills" font="dejavu" color="#fff" position="1.5 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                </a-plane>
                <!-- #8 -->
                <a-plane position="0 -1.25 0.01" color="#000" width="6.5" height="0.2">
                    <a-plane width="0.2" height="0.2" color="#097287" position="-3.15 0 0.01">
                        <a-text value="#8" position="-0.075 0 0.01" scale="0.5 0.5 0.5"></a-text>
                    </a-plane>
                    <a-text id="leaderboard8name" font="dejavu" color="#fff" position="-3 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard8rounds" font="dejavu" color="#fff" position="-1 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard8kills" font="dejavu" color="#fff" position="0.4 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard8hskills" font="dejavu" color="#fff" position="1.5 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                </a-plane>
                <!-- #9 -->
                <a-plane position="0 -1.5 0.01" color="#000" width="6.5" height="0.2">
                    <a-plane width="0.2" height="0.2" color="#097287" position="-3.15 0 0.01">
                        <a-text value="#9" position="-0.075 0 0.01" scale="0.5 0.5 0.5"></a-text>
                    </a-plane>
                    <a-text id="leaderboard9name" font="dejavu" color="#fff" position="-3 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard9rounds" font="dejavu" color="#fff" position="-1 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard9kills" font="dejavu" color="#fff" position="0.4 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard9hskills" font="dejavu" color="#fff" position="1.5 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                </a-plane>
                <!-- #10 -->
                <a-plane position="0 -1.75 0.01" color="#000" width="6.5" height="0.2">
                    <a-plane width="0.2" height="0.2" color="#097287" position="-3.15 0 0.01">
                        <a-text value="#10" position="-0.105 0 0.01" scale="0.5 0.5 0.5"></a-text>
                    </a-plane>
                    <a-text id="leaderboard10name" font="dejavu" color="#fff" position="-3 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard10rounds" font="dejavu" color="#fff" position="-1 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard10kills" font="dejavu" color="#fff" position="0.4 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                    <a-text id="leaderboard10hskills" font="dejavu" color="#fff" position="1.5 0 0.001"
                        scale="0.5 0.5 0.5"></a-text>
                </a-plane>
            </a-plane>


            <!-- Keyboard and registration -->
            <a-plane id="registrationMenu" position="-50 1 -35" color="#fff" side="double" width="3" height="3">
                <a-plane position="0 1 0.001" color="#000" width="2" height="0.25">
                    <a-text id="input" font="dejavu" color="#fff" value="Choose name..." scale="0.5 0.5 0.5"
                        position="-0.9 0 0.001"></a-text></a-plane>

                <a-entity id="keyboard" a-keyboard position="-1 0.512 0.0625" scale="4 4 4"></a-entity>
                <a-entity raycaster="objects: .collidable"></a-entity>
            </a-plane>

            <!-- Lobby stands -->
            <a-text value="Select Your Loadout" color="#ffffff" align="center" scale="5 5 5" position="-50 2 -47"
                side="double"></a-text>
            <!-- Stand 1 -->
            <a-box position="-57.45 0.4 -40.15" color="#ffffff" width="0.5" depth="0.5" height="0.8">
                <a-text value="Select Class" color="#000" align="center" scale="0.4 0.4 0.4"
                    position="0 0.3 0.25"></a-text>
                <a-text value="Infantry" color="#000" align="center" scale="0.3 0.3 0.3" position="0 0.1 0.25"></a-text>
                <a-box onclick="cameraRig.components['player'].chooseClass('Infantry');" position="0 0.4 0"
                    color="#F03000" width="0.175" depth="0.175" height="0.175"></a-box>
            </a-box>

            <!-- Stand 2 -->
            <a-box position="-52.45 0.4 -40.15" color="#ffffff" width="0.5" depth="0.5" height="0.8">
                <a-text value="Select Class" color="#000" align="center" scale="0.4 0.4 0.4"
                    position="0 0.3 0.25"></a-text>
                <a-text value="Gunslinger" color="#000" align="center" scale="0.3 0.3 0.3"
                    position="0 0.1 0.25"></a-text>
                <a-box onclick="cameraRig.components['player'].chooseClass('Gunslinger');" position="0 0.4 0"
                    color="#F03000" width="0.175" depth="0.175" height="0.175"></a-box>
            </a-box>


            <!-- Stand 3 -->
            <a-box position="-47.45 0.4 -40.15" color="#ffffff" width="0.5" depth="0.5" height="0.8">
                <a-text value="Select Class" color="#000" align="center" scale="0.4 0.4 0.4"
                    position="0 0.3 0.25"></a-text>
                <a-text value="Alternate Universe" color="#000" align="center" scale="0.27 0.27 0.27"
                    position="0 0.1 0.25"></a-text>
                <a-box onclick="cameraRig.components['player'].chooseClass('AlternateUniverse');" position="0 0.4 0"
                    color="#F03000" width="0.175" depth="0.175" height="0.175"></a-box>
            </a-box>


            <!-- Stand 4 -->
            <a-box position="-42.5 0.4 -40.15" color="#ffffff" width="0.5" depth="0.5" height="0.8">
                <a-text value="Select Class" color="#000" align="center" scale="0.4 0.4 0.4"
                    position="0 0.3 0.25"></a-text>
                <a-text value="Veterinarian" color="#000" align="center" scale="0.3 0.3 0.3"
                    position="0 0.1 0.25"></a-text>
                <a-box onclick="cameraRig.components['player'].chooseClass('Veterinarian');" position="0 0.4 0"
                    color="#F03000" width="0.175" depth="0.175" height="0.175"></a-box>
            </a-box>

            <!-- Start game Stand -->
            <a-box id="starter" position="-49.95 0.4 -43.15" color="#ffffff" width="0.5" depth="0.5" height="0.8">
                <a-text value="Start Game" color="#000" align="center" scale="0.4 0.4 0.4"
                    position="0 0.3 0.25"></a-text>
                <a-box onclick="startGame();" position="0 0.4 0" color="#0030F0" width="0.175" depth="0.175"
                    height="0.175"></a-box>
            </a-box>

            <a-entity nav-mesh visible="false" gltf-model="assets/misc/navimesh2.glb" position="-50 0 -37.5" rotation="0 -90 0"
                scale="0.5 0.5 0.5"></a-entity>
        </a-entity>




    </a-scene>



    <div id="hud-container">

        <!-- <div class="hud-text">[PUNTS][PUNTS][PUNTS]</div> -->
        <div id="displayRound" class="hud-text"></div>

        <div>
            <div id="displayHP" class="hud-text">100 HP</div>
            <div id="displayAmmo" class="hud-text"></div>
        </div>
    </div>

</body>

<script src="lib/script.js"></script>
<!-- <script src="https://codechangers.com/camps2019/vr/shoot-partial.js"></script> -->

</html>